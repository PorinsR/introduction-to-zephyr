/*
 * Copyright (c) Justin Watson 2017
 * SPDX-License-Identifier: Apache-2.0
 */

/dts-v1/;

#include <atmel/sam4s8c.dtsi>
#include "powerboard.dtsi"
#include <zephyr/dt-bindings/input/input-event-codes.h>


/ {
	model = "G360 Powerboard with ATSAM4S8C";
	compatible = "atmel,sam4s8c", "atmel,sam4s";

	aliases {
		indicator-led = &indicator_led;
		r-led = &r_led;
		g-led = &g_led;
		b-led = &b_led;
		my-button = &power_button;
	};

	chosen {
		zephyr,console = &uart0;
		zephyr,shell-uart = &uart0;
		zephyr,sram = &sram0;
		zephyr,flash = &flash0;
	};

	sram1: sram@60000000 {
		compatible = "zephyr,memory-region", "mmio-sram";
		device_type = "memory";
		reg = <0x60000000 DT_SIZE_K(512)>;
		zephyr,memory-region = "SRAM1";
	};

	sram2: sram@61000000 {
		compatible = "zephyr,memory-region", "mmio-sram";
		device_type = "memory";
		reg = <0x61000000 DT_SIZE_K(512)>;
		zephyr,memory-region = "SRAM2";
	};

	leds {
		compatible = "gpio-leds";
		indicator_led: indicator_led {
			gpios = <&pioc 18 GPIO_ACTIVE_LOW>;
		};
		r_led: r_led {
			gpios = <&pioc 19 GPIO_ACTIVE_LOW>;
		};
		g_led: g_led {
			gpios = <&pioc 20 GPIO_ACTIVE_LOW>;
		};
		b_led: b_led {
			gpios = <&pioc 21 GPIO_ACTIVE_LOW>;
		};

	};

	buttons {
		compatible = "gpio-keys";
		debounce-interval-ms = <50>;
		polling-mode;

		power_button: button_1 {
			label = "Power button";
			gpios = <&pioa 2 (GPIO_ACTIVE_HIGH | GPIO_PULL_UP)>;
		};
	};

};

&cpu0 {
	clock-frequency = <120000000>;
};

&twi0 {
	status = "okay";

	pinctrl-0 = <&twi0_default>;
	pinctrl-names = "default";
};

&spi0 {
	status = "okay";

	pinctrl-0 = <&spi0_default>;
	pinctrl-names = "default";

	cs-gpios = <&pioa 31 GPIO_ACTIVE_LOW>,
			   <&pioa 30 GPIO_ACTIVE_LOW>;
};

&uart0 {
	status = "okay";
	current-speed = <115200>;

	pinctrl-0 = <&uart0_default>;
	pinctrl-names = "default";
};

&uart1 {
	status = "okay";
	current-speed = <115200>;

	pinctrl-0 = <&uart1_default>;
	pinctrl-names = "default";
};

&pwm0 {
	status = "okay";

	pinctrl-0 = <&pwm0_default>;
	pinctrl-names = "default";
};

&adc0 {
	status = "okay";

	pinctrl-0 = <&adc0_default>;
	pinctrl-names = "default";

	prescaler = <9>;
	startup-time = <64>;
	settling-time = <3>;
	tracking-time = <2>;
};

&wdt {
	status = "okay";
};

